Условия задачи не корректны, что легко доказывается построением контрпримера сообщения.

Можно предположить, что сумма списания всегда имеет тип float, то есть содержит один из символов ',' или '.', но это не так, если верить вашему эмулятору: указывая в поле "Сумма" 123.38, в сообщении получим "Спишется 124р.".

По определению "порядок полей, пунктуация и слова со временем могут быть изменены". Можно без потери общности положить, что ничего кроме искомых значений разделенных пробелами в сообщении нет.

Тогда сообщение 124 124 012345678901234 валидно по определению, но исходя только из условий никакой возможности понять, где в нем код подтверждения, а где сумма списания невозможно.

Чтобы сделать задачу решаемой необходимо и достаточно:

1. уметь однозначно выделять из сообщения сумму списания;
2. знать длину либо кода подтверждения, либо номера счета.

Первое условие выполняется, если изменить эмулятор таким образом, чтобы сумма списания всегда была типа float с точностью 0.01
Для выполнение второго ничего кроме определения инварианта или способа его получения в условиях задачи не остается.

Предложенное [решение] (../blob/master/test.php) предполагает, что оба обозначенных выше условия выполняются:

```php
function parse_message (string $text, int $code_length = 4, int $account_length = 15) : array {
    
    return array_reduce (
        
        explode (' ', trim (preg_replace ('#[^\d,.]+#', ' ', preg_replace ('#(\D[,.])|([,.]\D)|([,.]$)#u', '', $text)))),
        
        function ($a, $c) use ($code_length, $account_length) {
            
            $a [(strlen ($c) == $code_length) ? 'code' : ((strlen ($c) == $account_length ? 'account' : 'amount'))] = $c;
            
            return $a;
        },
        
        []
    );
}
